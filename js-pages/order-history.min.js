function setStarValues(){$(".star1").val("1"),$(".star2").val("2"),$(".star3").val("3"),$(".star4").val("4"),$(".star5").val("5")}$("#cardNumber, #creditCardMonth, #creditCardYear").prop("required",!1),$(".card-fields").hide(),$(document).on("click",".track",function(){var e=$(this).attr("data-num"),a=($(this).attr("data-invoice"),$(this).attr("data-url"));$("#track-body").load(a+e)}),$(document).on("click",".btn-update-attributes",function(){$(".modal-message").html(""),$(".modal-submit").show();var e=$(this).attr("data-orderitemid"),a=$(this).attr("data-title");$("form").attr("data-orderitemid",e),$(".title").html(a)}),$(document).on("click",".btn-report-problem",function(){var e=$(this).attr("data-invoice");$("#message-problem-modal").html(""),$("#confirm-report-problem").hide(),$("#loader-report-problem").load("/accounts/ajax-report-order-problem.asp",{id:e})}),$(document).on("click",".problem-select-item",function(){var e=$(this).attr("data-qty");$("#qty-missing").val(e),$(".problem-select-item").not($(this)).hide(),$("#block-select-problem, #confirm-report-problem").show(),$("#header-select-item").hide(),$(this).addClass("alert alert-info pl-5 py-1")}),$(document).on("change",'input[name="status"]',function(){var e=$(this).val();"Missing"==e||"Broken"==e||"Wrong"==e?($(".qty-missing").fadeIn(),$("#error-type").html(e)):($(".qty-missing").fadeOut(),$("#error-type").html(""))}),$(document).on("click","#confirm-report-problem",function(e){$.ajax({method:"post",url:"accounts/ajax-report-order-problem-submit.asp",data:$("#form-report-problem").serialize()}).done(function(e){$("#loader-report-problem").html(""),$("#confirm-report-problem").hide(),$("#message-problem-modal").html('<div class="alert alert-success p-1 my-2">Thank you for letting us know about your order problem.<p>Please give 1-2 working days for your request to be reviewed by our customer service department. If we have any questions about your request/order problem, we will contact you via e-mail. If you receive a shipment notice in the next 1-2 working days, then it is your item(s) being shipped out (please do not be alarmed).</p></div>').show()}).fail(function(e){$("#message-problem-modal").html('<div class="alert alert-danger p-1 my-2">Website error. Please check that all fields are filled out. If you continue to have trouble, please contact customer service for assistance.</div>').show()})}),$(document).on("click",".btn-moreInfo-modal",function(){var e=$(this).attr("data-preorderSpecs");""!=e&&(e='<div class="font-weight-bold mb-1">Your Pre-Order Specifications:</div>'+e),console.log(e),$("#loader-more-information").html(e)}),setStarValues(),$(document).on("click",".btn-review-modal",function(e){var a=$(this).attr("data-orderitemid");$("#review_order_detail_id").val(a),$("#review-body").show(),"yes"==$(this).attr("data-edit")?($("#review_edit").val("yes"),$.ajax({method:"post",dataType:"json",url:"products/ajax-get-product-review.asp",contentType:"application/x-www-form-urlencoded;charset=UTF-8",data:{id:a}}).done(function(e,a,t){$("#text-review").val(e.review),setStarValues(),$(".star"+e.rating).prop("checked",!0)}).fail(function(e,a){console.log("Retrieving review failed. "+a)})):($("#text-review").val(""),setStarValues(),$('#frm-write-review [name="rating"]').prop("checked",!1))}),$(document).on("submit","#frm-write-review",function(e){var a=$("#review_edit").val(),t=$("#review_order_detail_id").val(),o=$("#frm-write-review [name='review']").val(),r=$("#frm-write-review [name='rating']:checked").val(),s=$("#frm-write-review");!1===s[0].checkValidity()?(e.preventDefault(),e.stopPropagation(),console.log("invalid form elements")):$.ajax({method:"post",url:"products/ajax-write-product-review-submit.asp",contentType:"application/x-www-form-urlencoded;charset=UTF-8",data:{id:t,review:o,rating:r,review_edit:a}}).done(function(e){$("#message-review-modal").html('<div class="alert alert-success">Thank you for reviewing this product. Once your review is accepted and published, you will see the points reflected on your account that you can exchange for store credit.</div>'),$(".modal-submit").hide(),$(".review-info-"+t).html('<span title="Pending" class="btn btn-sm alert-success"><i class="fa fa-star-half-o fa-lg"></i></span>')}).fail(function(e){$("#message-review-modal").html('<div class="alert alert-danger">Website error. Please check that your review is filled out. If you continue to have trouble, please contact customer service for assistance.</div>')}),s[0].classList.add("was-validated"),e.preventDefault()}),$(document).on("click",".btn-photo-modal",function(e){$("#photo-id").val($(this).attr("data-productid")),$("#photo-orderdetailid").val($(this).attr("data-orderitemid")),$("#photo-detailid").val($(this).attr("data-detailid")),$("#photo-email").val($("#copy-photo-email").val()),$("#photo-name").val($("#copy-photo-name").val()),$("#photo-custid").val($("#copy-photo-custid").val()),$("#message-photo-modal").html(""),$("#photo-filename").show()}),$(document).on("click","#confirm-submit-photo",function(e){var o=$("#photo-orderdetailid").val(),a=document.getElementById("frm-submit-photo"),a=new FormData($(a)[0]);$("#photo-filename").hide(),$("#message-photo-modal").html('<i class="fa fa-spinner fa-2x fa-spin"></i>'),$.ajax({method:"post",url:"/gallery/ajax-upload-photo-version1.asp",data:a,dataType:"json",processData:!1,contentType:!1}).done(function(e,a,t){"success"==e.status&&($("#message-photo-modal").html('<div class="alert alert-success">'+e.status_text+"</div>"),$(".modal-submit").hide(),$(".photo-phase1-"+o).removeClass("btn-update-attributes"),$(".photo-phase1-"+o).addClass("alert-success"),$(".photo-phase1-"+o).removeAttr("data-title data-orderitemid data-toggle data-target")),"duplicate"==e.status&&($("#message-photo-modal").html('<div class="alert alert-danger p-1 my-2">'+e.status_text+"</div>"),$("#photo-filename").show(),console.log(o),console.log(e.order_id))}).fail(function(e,a){$("#message-photo-modal").html('<div class="alert alert-danger p-1 my-2">Photo failed to upload. Problems could be: duplicate file name or a file size larger than 1.5MB. Try cropping your photo down a bit and see if it works.</div>'),$("#photo-filename").show()})}),$(document).on("click",".btn-cancel-modal",function(){var e=$(this).attr("data-invoice");$("#confirm-cancel").attr("data-invoice",e),$("#message-cancel-modal").html(""),$("#loader-cancel-modal").load("/accounts/ajax-cancel-order.asp",{id:e}),$.ajax({method:"post",dataType:"json",url:"/accounts/ajax-cancel-double-check.asp",data:{id:e}}).done(function(e,a){"success"===e.status?$("#confirm-cancel").show():$("#confirm-cancel").hide()})}),$(document).on("click","#confirm-cancel",function(e){var a=$(this).attr("data-invoice");$.ajax({method:"post",url:"accounts/ajax-cancel-order-submit.asp",data:{invoice:a}}).done(function(e){$("#loader-cancel-modal").html(""),$("#confirm-cancel, #cancel-"+a).hide(),$("#message-cancel-modal").html('<div class="alert alert-success p-1 my-2">Your order has been cancelled. Your store credit is now on your account to be used..</div>').show()}).fail(function(e){$("#message-cancel-modal").html('<div class="alert alert-danger p-1 my-2">Website error. There was a problem cancelling your order. If you continue to have trouble, please contact customer service for assistance.</div>').show()})}),$(document).on("click",".btn-survey-modal",function(){var e=$(this).attr("data-id");$("#surveyId").val(e),$("#message-survey-modal").html(""),$("#frm-survey").show(),$("#frm-survey")[0].reset(),$(".wrapper-textarea").hide(),$("#survey-body").animate({scrollTop:0},"fast")}),$(document).on("click","#frm-survey label",function(){var e=$(this).attr("data-group"),a=$(this).attr("data-value");$(this).attr("for");a<4?($(".textarea-"+e).fadeIn(),$("#"+e+"Elaborate").prop("required",!0)):($(".textarea-"+e).fadeOut(),$("#"+e+"Elaborate").prop("required",!1))}),$(document).on("click","#confirm-submit-survey",function(e){var a=$("#frm-survey");!1===a[0].checkValidity()?(e.preventDefault(),e.stopPropagation(),console.log("invalid form elements"),$("#message-survey-modal").html('<div class="alert alert-danger p-1 my-2">Some ratings have not been selected. Please scroll up and make sure all ratings (highlighted in red) have been selected.</div>').show()):$.ajax({method:"post",url:"accounts/ajax-order-survey-submit.asp",data:$("#frm-survey").serialize()}).done(function(e){$("#message-survey-modal").html('<div class="alert alert-success p-1 my-2">Thanks! Your survey has been submitted and the .50Â¢ store credit is on your account.</div>').show()}).fail(function(e){$("#message-survey-modal").html('<div class="alert alert-danger p-1 my-2">Website error. Please <a class="alert-link" href="/contact.asp">contact customer service</a> for assistance.</div>').show()}),a[0].classList.add("was-validated"),e.preventDefault()}),$(document).on("click",".btn-update-address-modal",function(){var e=$(this).attr("data-invoice"),a=$(this).attr("data-country");$("#message-address-modal").html(""),$("#country").val(a).trigger("change"),$("#confirm-update-address").attr("data-id",e),$("#update-address-body").animate({scrollTop:0},"fast")}),$("#country").on("change",function(){$(".state, .province, .province-canada").hide(),$("#state, #province, #province-canada").val(""),$("#state, #province, #province-canada").prop("required",!1),"USA"===$("#country").val()?($("#state").prop("required",!0),$(".state").show()):"Canada"===$("#country").val()?($(".province-canada").show(),$("#province-canada").prop("required",!0)):$(".province").show()}),$(document).on("click","#confirm-update-address",function(e){var a=$("#frm-update-address"),o=$(this).attr("data-id");!1===a[0].checkValidity()?(e.preventDefault(),e.stopPropagation(),console.log("invalid form elements")):$.ajax({method:"post",dataType:"json",url:"accounts/ajax-update-order-address.asp",data:$("#frm-update-address").serialize()+"&id="+o}).done(function(e,a,t){"success"==e.status?($("#message-address-modal").html('<div class="alert alert-success p-1 my-2">Your shipping address has been successfully updated.</div>').show(),$("#address-box-"+o).html($("#company").val()+"</br>"+$("#first").val()+" "+$("#last").val()+"</br>"+$("#address").val()+" "+$("#address2").val()+"</br>"+$("#city").val()+", "+$("#state").val()+$("#province-canada").val()+" "+$("#province").val()+"</br>"+$("#country").val())):$("#message-address-modal").html('<div class="alert alert-danger p-1 my-2">Error. Please make sure you entered a valid address. If you continue to have trouble, please contact customer service for assistance.</div>').show()}).fail(function(e,a){$("#message-address-modal").html('<div class="alert alert-danger p-1 my-2">Website error. If you continue to have trouble, please contact customer service for assistance.</div>').show()}),a[0].classList.add("was-validated"),e.preventDefault()}),$(document).on("click",".btn-addon-modal",function(){var e=$(this).attr("data-invoice");$("#confirm-start-addons").attr("data-invoice",e),$("#confirm-start-addons").show()}),$(document).on("click","#confirm-start-addons",function(e){var a=$(this).attr("data-invoice");Cookies.set("OrderAddonsActive",a,{expires:30}),window.location="/products.asp?new=Yes"});