function setStarValues(){$(".star1").val("1"),$(".star2").val("2"),$(".star3").val("3"),$(".star4").val("4"),$(".star5").val("5")}$("#cardNumber, #creditCardMonth, #creditCardYear").prop("required",!1),$(".card-fields").hide(),$(document).on("click",".track",(function(){var number=$(this).attr("data-num"),invoice=$(this).attr("data-invoice"),url=$(this).attr("data-url");$("#track-body").load(url+number)})),$(document).on("click",".btn-update-attributes",(function(){$(".modal-message").html(""),$(".modal-submit").show();var orderitemid=$(this).attr("data-orderitemid"),title=$(this).attr("data-title");$("form").attr("data-orderitemid",orderitemid),$(".title").html(title)})),$(document).on("click",".btn-report-problem",(function(){var id=$(this).attr("data-invoice");$("#message-problem-modal").html(""),$("#confirm-report-problem").hide(),$("#loader-report-problem").load("/accounts/ajax-report-order-problem.asp",{id:id})})),$(document).on("click",".problem-select-item",(function(){var qty=$(this).attr("data-qty");$("#qty-missing").val(qty),$(".problem-select-item").not($(this)).hide(),$("#block-select-problem, #confirm-report-problem").show(),$("#header-select-item").hide(),$(this).addClass("alert alert-info pl-5 py-1")})),$(document).on("change",'input[name="status"]',(function(){var status_value=$(this).val();"Missing"==status_value||"Broken"==status_value||"Wrong"==status_value?($(".qty-missing").fadeIn(),$("#error-type").html(status_value)):($(".qty-missing").fadeOut(),$("#error-type").html(""))})),$(document).on("click","#confirm-report-problem",(function(event){$.ajax({method:"post",url:"accounts/ajax-report-order-problem-submit.asp",data:$("#form-report-problem").serialize()}).done((function(msg){$("#loader-report-problem").html(""),$("#confirm-report-problem").hide(),$("#message-problem-modal").html('<div class="alert alert-success p-1 my-2">Thank you for letting us know about your order problem.<p>Please give 1-2 working days for your request to be reviewed by our customer service department. If we have any questions about your request/order problem, we will contact you via e-mail. If you receive a shipment notice in the next 1-2 working days, then it is your item(s) being shipped out (please do not be alarmed).</p></div>').show()})).fail((function(msg){$("#message-problem-modal").html('<div class="alert alert-danger p-1 my-2">Website error. Please check that all fields are filled out. If you continue to have trouble, please contact customer service for assistance.</div>').show()}))})),$(document).on("click",".btn-moreInfo-modal",(function(){var preorder_specs=$(this).attr("data-preorderSpecs");""!=preorder_specs&&(preorder_specs='<div class="font-weight-bold mb-1">Your Pre-Order Specifications:</div>'+preorder_specs),console.log(preorder_specs),$("#loader-more-information").html(preorder_specs)})),setStarValues(),$(document).on("click",".btn-review-modal",(function(e){$("#review_order_detail_id").val($(this).attr("data-orderitemid")),$("#review-body").show(),$("#text-review").val(""),setStarValues(),$('#frm-write-review [name="rating"]').prop("checked",!1)})),$(document).on("submit","#frm-write-review",(function(e){var order_detail_id=$("#review_order_detail_id").val(),review=$("#frm-write-review [name='review']").val(),rating=$("#frm-write-review [name='rating']:checked").val(),form=$("#frm-write-review");!1===form[0].checkValidity()?(e.preventDefault(),e.stopPropagation(),console.log("invalid form elements")):$.ajax({method:"post",url:"products/ajax-write-product-review-submit.asp",contentType:"application/x-www-form-urlencoded;charset=UTF-8",data:{id:order_detail_id,review:review,rating:rating}}).done((function(msg){$("#message-review-modal").html('<div class="alert alert-success">Thank you for reviewing this product. Once your review is accepted and published, you will see the points reflected on your account that you can exchange for store credit.</div>'),$(".modal-submit").hide(),$(".review-phase1-"+order_detail_id).removeClass("btn-update-attributes"),$(".review-phase1-"+order_detail_id).addClass("alert-success"),$(".review-phase1-"+order_detail_id).removeAttr("data-title data-orderitemid data-toggle data-target")})).fail((function(msg){$("#message-review-modal").html('<div class="alert alert-danger">Website error. Please check that your review is filled out. If you continue to have trouble, please contact customer service for assistance.</div>')})),form[0].classList.add("was-validated"),e.preventDefault()})),$(document).on("click",".btn-photo-modal",(function(e){$("#photo-id").val($(this).attr("data-productid")),$("#photo-orderdetailid").val($(this).attr("data-orderitemid")),$("#photo-detailid").val($(this).attr("data-detailid")),$("#photo-email").val($("#copy-photo-email").val()),$("#photo-name").val($("#copy-photo-name").val()),$("#photo-custid").val($("#copy-photo-custid").val()),$("#message-photo-modal").html(""),$("#photo-filename").show()})),$(document).on("click","#confirm-submit-photo",(function(event){var order_detail_id=$("#photo-orderdetailid").val(),myForm=document.getElementById("frm-submit-photo"),form_data=new FormData($(myForm)[0]);$("#photo-filename").hide(),$("#message-photo-modal").html('<i class="fa fa-spinner fa-2x fa-spin"></i>'),$.ajax({method:"post",url:"/gallery/ajax-upload-photo-version1.asp",data:form_data,dataType:"json",processData:!1,contentType:!1}).done((function(json,data,msg){"success"==json.status&&($("#message-photo-modal").html('<div class="alert alert-success">'+json.status_text+"</div>"),$(".modal-submit").hide(),$(".photo-phase1-"+order_detail_id).removeClass("btn-update-attributes"),$(".photo-phase1-"+order_detail_id).addClass("alert-success"),$(".photo-phase1-"+order_detail_id).removeAttr("data-title data-orderitemid data-toggle data-target")),"duplicate"==json.status&&($("#message-photo-modal").html('<div class="alert alert-danger p-1 my-2">'+json.status_text+"</div>"),$("#photo-filename").show(),console.log(order_detail_id),console.log(json.order_id))})).fail((function(json,msg){$("#message-photo-modal").html('<div class="alert alert-danger p-1 my-2">Photo failed to upload. Problems could be: duplicate file name or a file size larger than 1.5MB. Try cropping your photo down a bit and see if it works.</div>'),$("#photo-filename").show()}))})),$(document).on("click",".btn-cancel-modal",(function(){var id=$(this).attr("data-invoice");$("#confirm-cancel").attr("data-invoice",id),$("#message-cancel-modal").html(""),$("#loader-cancel-modal").load("/accounts/ajax-cancel-order.asp",{id:id}),$.ajax({method:"post",dataType:"json",url:"/accounts/ajax-cancel-double-check.asp",data:{id:id}}).done((function(json,msg){"success"===json.status?$("#confirm-cancel").show():$("#confirm-cancel").hide()}))})),$(document).on("click","#confirm-cancel",(function(event){var invoice=$(this).attr("data-invoice");$.ajax({method:"post",url:"accounts/ajax-cancel-order-submit.asp",data:{invoice:invoice}}).done((function(msg){$("#loader-cancel-modal").html(""),$("#confirm-cancel, #cancel-"+invoice).hide(),$("#message-cancel-modal").html('<div class="alert alert-success p-1 my-2">Your order has been cancelled. Your store credit is now on your account to be used..</div>').show()})).fail((function(msg){$("#message-cancel-modal").html('<div class="alert alert-danger p-1 my-2">Website error. There was a problem cancelling your order. If you continue to have trouble, please contact customer service for assistance.</div>').show()}))})),$(document).on("click",".btn-survey-modal",(function(){var id=$(this).attr("data-id");$("#surveyId").val(id),$("#message-survey-modal").html(""),$("#frm-survey").show(),$("#frm-survey")[0].reset(),$(".wrapper-textarea").hide(),$("#survey-body").animate({scrollTop:0},"fast")})),$(document).on("click","#frm-survey label",(function(){var group=$(this).attr("data-group"),answer=$(this).attr("data-value"),radioid=$(this).attr("for");answer<4?($(".textarea-"+group).fadeIn(),$("#"+group+"Elaborate").prop("required",!0)):($(".textarea-"+group).fadeOut(),$("#"+group+"Elaborate").prop("required",!1))})),$(document).on("click","#confirm-submit-survey",(function(e){var form=$("#frm-survey");!1===form[0].checkValidity()?(e.preventDefault(),e.stopPropagation(),console.log("invalid form elements"),$("#message-survey-modal").html('<div class="alert alert-danger p-1 my-2">Some ratings have not been selected. Please scroll up and make sure all ratings (highlighted in red) have been selected.</div>').show()):$.ajax({method:"post",url:"accounts/ajax-order-survey-submit.asp",data:$("#frm-survey").serialize()}).done((function(msg){$("#message-survey-modal").html('<div class="alert alert-success p-1 my-2">Thanks! Your survey has been submitted and the .50Â¢ store credit is on your account.</div>').show()})).fail((function(msg){$("#message-survey-modal").html('<div class="alert alert-danger p-1 my-2">Website error. Please <a class="alert-link" href="/contact.asp">contact customer service</a> for assistance.</div>').show()})),form[0].classList.add("was-validated"),e.preventDefault()})),$(document).on("click",".btn-update-address-modal",(function(){var id=$(this).attr("data-invoice"),country=$(this).attr("data-country");$("#message-address-modal").html(""),$("#country").val(country).trigger("change"),$("#confirm-update-address").attr("data-id",id),$("#update-address-body").animate({scrollTop:0},"fast")})),$("#country").on("change",(function(){$(".state, .province, .province-canada").hide(),$("#state, #province, #province-canada").val(""),$("#state, #province, #province-canada").prop("required",!1),"USA"===$("#country").val()?($("#state").prop("required",!0),$(".state").show()):"Canada"===$("#country").val()?($(".province-canada").show(),$("#province-canada").prop("required",!0)):$(".province").show()})),$(document).on("click","#confirm-update-address",(function(e){var form=$("#frm-update-address"),id=$(this).attr("data-id");!1===form[0].checkValidity()?(e.preventDefault(),e.stopPropagation(),console.log("invalid form elements")):$.ajax({method:"post",dataType:"json",url:"accounts/ajax-update-order-address.asp",data:$("#frm-update-address").serialize()+"&id="+id}).done((function(json,msg,data){"success"==json.status?($("#message-address-modal").html('<div class="alert alert-success p-1 my-2">Your shipping address has been successfully updated.</div>').show(),$("#address-box-"+id).html($("#company").val()+"</br>"+$("#first").val()+" "+$("#last").val()+"</br>"+$("#address").val()+" "+$("#address2").val()+"</br>"+$("#city").val()+", "+$("#state").val()+$("#province-canada").val()+" "+$("#province").val()+"</br>"+$("#country").val())):$("#message-address-modal").html('<div class="alert alert-danger p-1 my-2">Error. Please make sure you entered a valid address. If you continue to have trouble, please contact customer service for assistance.</div>').show()})).fail((function(json,msg){$("#message-address-modal").html('<div class="alert alert-danger p-1 my-2">Website error. If you continue to have trouble, please contact customer service for assistance.</div>').show()})),form[0].classList.add("was-validated"),e.preventDefault()})),$(document).on("click",".btn-addon-modal",(function(){var id=$(this).attr("data-invoice");$("#confirm-start-addons").attr("data-invoice",id),$("#confirm-start-addons").show()})),$(document).on("click","#confirm-start-addons",(function(event){var invoice=$(this).attr("data-invoice");Cookies.set("OrderAddonsActive",invoice,{expires:30}),window.location="/products.asp?new=Yes"}));