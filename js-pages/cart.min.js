function ToggleDisplayUseNow(t,e){var_freegift_text=$(t).find(":selected").data("text"),var_usenow_notice=e,-1!=var_freegift_text.indexOf("USE NOW")?$("#"+var_usenow_notice).show():$("#"+var_usenow_notice).hide()}function sanitizeHTML(t){var e=document.createElement("div");return e.innerText=t,e.innerHTML}function clearFreeItemsCookie(e){for(let t=e;t<=7;t++)Cookies.set("freegift"+t+"id","",{expires:30}),Cookies.set("freegift"+t+"slideindex","",{expires:30}),Cookies.set("freegift"+t+"Title","",{expires:30})}$(".checkout_now, .checkout_paypal, #btn-googlepay, #btn-applepay").show(),$("#remove-credit").click(function(){var t=$(this).attr("data-type");$.ajax({method:"POST",dataType:"json",url:"cart/ajax_remove_discounts.asp",data:{remove_type:t}}).done(function(t,e){window.location="/cart.asp"}).fail(function(t,e){console.log("fail")})}),$(document).ready(function(t){try{$("body [name=freegift1],[name=freegift2],[name=freegift3],[name=freegift4],[name=freegift5],[name=freesticker],[name=free_orings]").msDropDown()}catch(t){}}),$("#btn_continue_checkout").show(),$(document).on("click","#gaugeCardCheck",function(){$(this).is(":checked")?Cookies.set("gaugecard","yes",{expires:30}):Cookies.set("gaugecard","no",{expires:30})}),$(document).on("change","input[class=freegift]",function(t){var_freegiftid=$(this).val(),friendly_title=$(this).attr("data-friendly"),slide_id=$(this).attr("data-slide-id"),img_name=$(this).attr("data-img-name");var e,i=$(this).attr("data-tier");$("#selected-gift"+i).html(friendly_title),$("#gift"+i+"-dropdown-text").hide(),$(".selected-variation-text").hide(),$(".variation-text").show(),$(".slick-slide img").css("border","none"),"no free item"!=friendly_title?(Cookies.set("freegift"+i+"id",var_freegiftid,{expires:30}),Cookies.set("freegift"+i+"slideindex",$(this).attr("data-slide-index"),{expires:30}),Cookies.set("freegift"+i+"Title",friendly_title,{expires:30}),console.log("c:"+Cookies.get("freegift"+i+"id")),console.log("#slick-free-items-"+i+" .slick-slide[data-slide-index="+$(this).attr("data-slide-index")+"]"),(e=$("#slick-free-items-"+i+" .slick-slide[data-slide-index="+$(this).attr("data-slide-index")+"]")).find(".variation-text").hide(),e.find(".selected-variation-text").html('<div class="small" style="color: #007bff">'+friendly_title+' <i class="fa fa-check"></i></div>'),$("#header-card-selected-item-"+i).html(friendly_title+' <i class="fa fa-check"></i>'),e.find(".selected-variation-text").show(),e.find("img").css("border","3px solid #1585ff"),e.find("img").css("border-radius","2px")):($("#header-card-selected-item-"+i).html(""),Cookies.set("freegift"+i+"id","",{expires:30}),Cookies.set("freegift"+i+"slideindex","",{expires:30}),Cookies.set("freegift"+i+"Title","",{expires:30})),calcAllTotals()}),$(document).on("click",".action-remove",function(){$(".stock_notification").hide(),row_cart_detailid=$(this).attr("data-detailid");var t=$(this).attr("data-specs"),t=$("input[name=qty_change_id_"+t+"]").val();$("input[name=qty_change_id_"+row_cart_detailid+"]").attr("data-orig_qty");var_cart_count=$(".cart-count").html(),$(".cart-count").html(parseInt(var_cart_count)-parseInt(t)),$.ajax({type:"post",url:"cart/ajax_cart_remove_item.asp",data:{cart_id:row_cart_detailid},success:function(){$(".detailid_"+row_cart_detailid).css("backgroundColor","#F5A9A9"),$(".detailid_"+row_cart_detailid).fadeOut("slow"),calcAllTotals()}})}),$(".action-save-later").click(function(){row_cart_detailid=$(this).attr("data-detailid");var t=$("input[name=qty_change_id_"+row_cart_detailid+"]").attr("data-orig_qty");var_cart_count=$(".cart-count").html(),$(".cart-count").html(parseInt(var_cart_count)-parseInt(t)),$.ajax({type:"post",url:"/cart/inc_cart_save_for_later.asp",data:{cart_id:row_cart_detailid,add_save:"yes"},success:function(){$("#saved-items").load("/cart/inc_cart_saved_items.asp"),$(".detailid_"+row_cart_detailid).css("backgroundColor","#CEF6D8"),$(".detailid_"+row_cart_detailid).fadeOut("slow"),calcAllTotals()}})}),$(".add-cart-addon").click(function(){item_detailid=$(this).attr("data-detailid"),$.ajax({type:"post",url:"/cart/ajax_cart_add_item.asp?qty=1&DetailID="+item_detailid,data:{item_detailid:item_detailid},success:function(){$("#btn_"+item_detailid).html('<i class="fa fa-spinner fa-spin"></i> Adding...'),location.reload()}})}),$(".qty_change").change(function(){$(".stock_notification").hide();var s=$(this).attr("id");qty_value=$("#"+s).val();var t=$("#"+s).attr("data-orig_qty"),e=$("#"+s).attr("id");row_cart_detailid=$("#"+s).attr("data-detailid");var o=$("#"+s).attr("data-now_item_price"),c=($("#"+s).attr("data-anodization-subtotal"),$("#"+s).attr("data-anodization-basePrice"));console.log(c),qty_value<=0&&($("#"+s).val("1"),$("#"+s).trigger("change")),var_cart_count=$(".cart-count").html(),qty_value>t?$(".cart-count").html(parseInt(var_cart_count)+(parseInt(qty_value)-parseInt(t))):$(".cart-count").html(parseInt(var_cart_count)-(parseInt(t)-parseInt(qty_value))),$.ajax({type:"post",dataType:"json",url:"cart/ajax_cart_update_item.asp?update="+e+"&qty="+qty_value+"&detailid="+row_cart_detailid+"&orig_qty="+t}).done(function(t,e){qty_value;var i=t.qty;function a(){new_row_sale_price=i*o,new_row_anodization_price=i*c,$(".success_id_"+row_cart_detailid).show(),$(".success_id_"+row_cart_detailid).delay(3e3).fadeOut(),$(".qty_change_id_"+row_cart_detailid).attr("data-orig_qty",qty_value),$(".line_item_total_"+row_cart_detailid).html("$"+new_row_sale_price.toFixed(2)),$(".anodization_line_total_"+row_cart_detailid).html("$"+new_row_anodization_price.toFixed(2))}function d(){$("#stock_notice").show(),$("#stock_notice").load("cart/inc_stock_display_notice.asp?qty="+qty_value+"&detailid="+row_cart_detailid)}0!=i&&(qty_value="out of stock"!=i?i:0),0!=i?("out of stock"!=i?(console.log("set to db value"),$(".qty_change_id_"+row_cart_detailid).val(t.qty)):(console.log("set to 0"),$(".detailid_"+s).css("backgroundColor","#F5A9A9"),$(".detailid_"+s).fadeOut("slow")),a(),d()):($("#stock_notice").hide(),new_row_sale_price=qty_value*o,new_row_anodization_price=qty_value*c,$(".success_id_"+row_cart_detailid).show(),$(".success_id_"+row_cart_detailid).delay(3e3).fadeOut(),$(".qty_change_id_"+row_cart_detailid).attr("data-orig_qty",qty_value),$(".line_item_total_"+row_cart_detailid).attr("data-price",new_row_sale_price),$(".line_item_total_"+row_cart_detailid).html(new_row_sale_price.toFixed(2)),$(".anodization_line_total_"+row_cart_detailid).html(new_row_anodization_price.toFixed(2))),calcAllTotals()})}),$(".btn-add-autoclave").click(function(){$(".btn-add-autoclave").html("Adding..."),$.ajax({type:"post",url:"cart/ajax_cart_add_item.asp",data:{qty:"1",DetailID:"34356"},success:function(){location.reload()}})}),$(".coupon-shortcut").click(function(){$("#frm-coupon").submit()}),$(".edit-spec").click(function(){var t=$(this).attr("data-id");$(this).hide(),$(".spec"+t+", .update"+t+", .cancel"+t).show()}),$(".cancel-spec").click(function(){var t=$(this).attr("data-id");$(this).hide(),$(".spec"+t+", .update"+t).hide(),$(".edit"+t).show()}),$(".update-spec").click(function(){var e=$(this).attr("data-id"),i=$(".specvalue"+e).val();$(".update"+e+", .spec"+e+", .cancel"+e).hide(),$(".specspin"+e).css("display","inline-block"),$.ajax({type:"post",url:"cart/ajax-update-preorder-specs.asp",data:{cartid:e,specs:i}}).done(function(t){$(".specspin"+e).css("display","none"),$(".edit"+e+", .updateconfirm"+e).show(),$(".spectext"+e).html(sanitizeHTML(i)),$(".specvalue"+e).val(i),$(".updateconfirm"+e).delay(2e3).fadeOut("slow")})}),$("#saved-items").load("/cart/inc_cart_saved_items.asp"),$(document).on("click","#saved-items .page-link",function(t){t.preventDefault();t=$(this).attr("href");$("#saved-items").load("/cart/inc_cart_saved_items.asp"+t)}),$(document).on("click","#btn-edit-cart-item",function(){$("#btn-update-detail").html("Update item");var t=$(this).attr("data-cartid"),e=$(this).attr("data-productid"),i=$("#"+t).val();$("#update-item-display-product").load("/cart/ajax-cart-update-item-display-product.asp",{productid:e}),$("#form-edit-cart-item").load("/products/ajax-details-dropdown-addtocart.asp",{productid:e,cartid:t,cart_qty:i})}),$(document).on("change",".add-cart",function(t){var e=$(this).attr("dropdown-title");$("#selected-item").html(e)}),$(document).on("click","#btn-update-detail",function(){$("#btn-update-detail").html('<i class="fa fa-spinner fa-2x fa-spin"></i>'),var_detailid=$(".add-cart:checked").val(),$.ajax({type:"post",url:"cart/ajax-cart-update-item-detail.asp",data:$("#form-edit-cart-item").serialize()+"&detailid="+var_detailid}).done(function(t){window.location="/cart.asp?updateditem=yes"})}),$("#frm-coupon").submit(function(t){var e=$("#coupon_code").val();""!=e&&($("#coupon-applied").html(""),$("#processing-message").show(),$("#processing-message").html('<div class="alert alert-success mt-2"><i class="fa fa-spinner fa-2x fa-spin"></i> Please wait ... Applying coupon</div>'),$.ajax({url:"/cart/ajax-cart-apply-coupon.asp",type:"POST",data:{coupon_code:e}}).done(function(t,e){$("#coupon-applied").html(t),calcAllTotals(),$("#processing-message").html("")}).fail(function(){$("#processing-message").html("")})),$("#coupon_code").val(""),t.preventDefault()}),$(document).on("click","#btn-checkout, #btn-paypal",function(t){"yes"==preOrderItem&&(t.preventDefault(),checkoutMethod=$(this).attr("id"),$("#custom-order-warning-modal").modal("show"),$("#custom-order-items").load("/cart/ajax-pre-order-item-display.asp"))}),$(document).on("click","#btn-proceed-to-checkout",function(t){preOrderItem="",$("#custom-order-warning-modal").modal("hide"),"btn-checkout"==checkoutMethod?window.location="/checkout.asp?type=card":"btn-paypal"==checkoutMethod?window.location="/checkout.asp?type=paypal":"btn-googlepay"==checkoutMethod?onGooglePaymentButtonClicked():"btn-applepay"==checkoutMethod&&document.querySelector("apple-pay-button").click()}),$(document).on("click",".btn-free-items",function(t){$("#free-items").hide(),$("#loading-message").html('<div class="text-center alert" style="color: #525252; background-color: #f1f1f1; border-color: #dbdbdb;"><i class="fa fa-spinner fa-spin" style="font-size: 1.3em"></i> Loading free items . . .</div>'),$("#loading-message").show(),$.ajax({url:"/cart/inc_freeitems_modal.asp",type:"POST",data:{free_items_count:free_items_count}}).done(function(t,e){$("#free-items").html(t),$("#free-items").show(),$("#loading-message").hide(),$(".slick-free-items").slick({variableWidth:!0,slidesToScroll:3,prevArrow:'<div class="slider-arrow-prev" style="height: 75%"><i class="fa fa-chevron-circle-left text-dark fa-2x pointer"></i></div>',nextArrow:'<div class="slider-arrow-next" style="height: 75%"><i class="fa fa-chevron-circle-right text-dark  fa-2x pointer"></i></div>'});for(let t=0;t<7;t++){Cookies.get("freegift"+t+"slideid");var i=Cookies.get("freegift"+t+"slideindex"),a=Cookies.get("freegift"+t+"Title");""!=i&&null!=i&&((i=$("#slick-free-items-"+t+" .slick-slide[data-slide-index="+i+"]")).find(".variation-text").hide(),i.find(".selected-variation-text").html('<div class="small" style="color: #007bff">'+a+' <i class="fa fa-check"></i></div>'),$("#header-card-selected-item-"+t).html(a+' <i class="fa fa-check"></i>'),i.find(".selected-variation-text").show(),i.find("img").css("border","3px solid #1585ff"),i.find("img").css("border-radius","2px"))}}).fail(function(){$("#loading-message").hide(),$("#free-items").show()})}),$(document).on("click",".slick-slide",function(t){var i,e;$(this).closest(".baf-carousel").hasClass("notavailable")||$(this).closest(".baf-carousel").hasClass("free-stickers")?$(this).closest(".baf-carousel").hasClass("free-stickers")&&(e=$(this).attr("data-product-detail-id"),friendly_title=$(this).attr("data-friendly"),i=2,$("#selected-gift"+i).html(friendly_title),$("#gift"+i+"-dropdown-text").hide(),$(".selected-variation-text").hide(),$(".variation-text").show(),$(".slick-slide img").css("border","none"),Cookies.set("freegift"+i+"id",e,{expires:30}),Cookies.set("freegift"+i+"slideindex",$(this).attr("data-slide-index"),{expires:30}),Cookies.set("freegift"+i+"Title",friendly_title,{expires:30}),(e=$("#slick-free-items-"+i+" .slick-slide[data-slide-index="+$(this).attr("data-slide-index")+"]")).find(".variation-text").hide(),e.find(".selected-variation-text").html('<div class="small" style="color: #007bff">'+friendly_title+' <i class="fa fa-check"></i></div>'),$("#header-card-selected-item-"+i).html(friendly_title+' <i class="fa fa-check"></i>'),e.find(".selected-variation-text").show(),e.find("img").css("border","3px solid #1585ff"),e.find("img").css("border-radius","2px"),calcAllTotals()):(t.stopImmediatePropagation(),t.preventDefault(),i=$(this).attr("data-tier"),e=$(this).attr("data-productid"),t=$(this).attr("data-slide-index"),$("#select-product-variation-"+i).hide(),$("#slick-free-items-"+i).css("opacity","1"),$.ajax({url:"/cart/inc_freeitems_select.asp",type:"POST",data:{productid:e,tier:i,slideindex:t}}).done(function(t,e){$("#select-product-variation-"+i).html(t),$("#select-product-variation-"+i).show(),$("#slick-free-items-"+i).css("opacity","0.5")}).fail(function(){$("#select-product-variation-"+i).html("")}))}),$(document).on("click","body",function(t){$(".select-product-variation").hide(),$(this).hasClass("slick-slide")||$(".slick-free-items").css("opacity","1")}),$(document).on("show.bs.collapse",".collapse",function(t){var e,i=$(this).attr("data-tier"),a=(Cookies.get("freegift"+i+"slideid"),Cookies.get("freegift"+i+"slideindex")),d=Cookies.get("freegift"+i+"Title");""!=a&&null!=a&&(a=(e=$("#slick-free-items-"+i+" .slick-slide[data-slide-index="+a+"]")).prev().attr("data-slick-index"),console.log("Go to slick Index:"+a),$("#slick-free-items-"+i).slick("slickGoTo",a),e.find(".variation-text").hide(),e.find(".selected-variation-text").html('<div class="small" style="color: #007bff">'+d+' <i class="fa fa-check"></i></div>'),$("#header-card-selected-item-"+i).html(d+' <i class="fa fa-check"></i>'),e.find(".selected-variation-text").show(),e.find("img").css("border","3px solid #1585ff"),e.find("img").css("border-radius","2px"))});